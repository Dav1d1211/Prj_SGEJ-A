<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.net.URL?>

<AnchorPane xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="application.controllers.administracion_sistema.FormParametroController"
            prefHeight="520.0" prefWidth="440.0"
            style="-fx-background-color: transparent;">
    <stylesheets>
        <URL value="@../../styles/code_field.css" />
    </stylesheets>

    <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="scroll-form"
                AnchorPane.topAnchor="0.0" AnchorPane.bottomAnchor="0.0" 
                AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0">
    
        <VBox spacing="20" styleClass="form-panel" alignment="TOP_LEFT"
              style="-fx-background-color: #f0f8ff; -fx-background-radius: 16; -fx-border-radius: 16;">
            <padding>
                <Insets top="24" right="24" bottom="24" left="24"/>
            </padding>

            <!-- Title panel with blue color and white text -->
            <StackPane fx:id="pnl_Title" prefHeight="48" 
                      style="-fx-background-color: #2196f3; -fx-background-radius: 12;" 
                      alignment="CENTER">
                <Label fx:id="lbl_Titulo"
                      text="Parámetro del Sistema"
                      style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: white;"/>
            </StackPane>

            <!-- Error message display -->
            <Label fx:id="lbl_Error" style="-fx-text-fill: red; -fx-font-weight: bold;" />

            <!-- Form fields in a grid layout -->
            <GridPane hgap="18" vgap="16">
                <columnConstraints>
                    <ColumnConstraints prefWidth="180"/>
                    <ColumnConstraints prefWidth="180"/>
                </columnConstraints>
                
                <!-- Código y Nombre -->
                <Label text="Código:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <!-- Campo de código sin estilos para evitar conflictos -->
                <TextField fx:id="txt_Codigo" promptText="Código del parámetro" 
                          GridPane.rowIndex="1" GridPane.columnIndex="0" />
                
                <Label text="Nombre:" GridPane.rowIndex="0" GridPane.columnIndex="1" style="-fx-font-weight: bold; -fx-text-fill: #1976d2;"/>
                <TextField fx:id="txt_Nombre" promptText="Nombre del parámetro" GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                
                <!-- Tipo y Categoría -->
                <Label text="Tipo:" GridPane.rowIndex="2" GridPane.columnIndex="0" style="-fx-font-weight: bold;"/>
                <ComboBox fx:id="cmb_Tipo" prefWidth="180" promptText="Seleccione el tipo" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                
                <Label text="Categoría:" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                <ComboBox fx:id="cmb_Categoria" prefWidth="180" promptText="Seleccione la categoría" GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                
                <!-- Valor -->
                <Label text="Valor:" GridPane.rowIndex="4" GridPane.columnIndex="0" GridPane.columnSpan="2"/>
                <VBox fx:id="vbox_Valor" GridPane.rowIndex="5" GridPane.columnIndex="0" GridPane.columnSpan="2">
                    <TextField fx:id="txt_Valor" promptText="Valor del parámetro"/>
                </VBox>
                
                <!-- Descripción -->
                <Label text="Descripción:" GridPane.rowIndex="6" GridPane.columnIndex="0" GridPane.columnSpan="2"/>
                <TextArea fx:id="txt_Descripcion" prefRowCount="3" promptText="Descripción del parámetro" 
                          GridPane.rowIndex="7" GridPane.columnIndex="0" GridPane.columnSpan="2"/>
                
                <!-- Estado -->
                <Label text="Estado:" GridPane.rowIndex="8" GridPane.columnIndex="0"/>
                <HBox spacing="15.0" alignment="CENTER_LEFT" GridPane.rowIndex="9" GridPane.columnIndex="0">
                    <fx:define>
                        <ToggleGroup fx:id="toggleGroupEstado" />
                    </fx:define>
                    <RadioButton fx:id="rb_Activo" selected="true" text="Activo" toggleGroup="$toggleGroupEstado" />
                    <RadioButton fx:id="rb_Inactivo" text="Inactivo" toggleGroup="$toggleGroupEstado" />
                </HBox>
                
                <!-- Upload de Archivos (oculto por defecto) -->
                <VBox fx:id="vbox_Upload" spacing="10.0" visible="false" managed="false"
                      GridPane.rowIndex="10" GridPane.columnIndex="0" GridPane.columnSpan="2">
                    <Label text="Archivo:" style="-fx-font-weight: bold;"/>
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <Button fx:id="btn_SeleccionarArchivo" text="Seleccionar Archivo" 
                                style="-fx-background-color: #42a5f5; -fx-text-fill: white;"/>
                        <Label fx:id="lbl_NombreArchivo" text="Ningún archivo seleccionado" />
                    </HBox>

                    <!-- Vista previa (oculta por defecto) -->
                    <VBox fx:id="vbox_Preview" spacing="5.0" visible="false" managed="false">
                        <Label text="Vista previa:" style="-fx-font-weight: bold;"/>
                        <ImageView fx:id="img_Preview"
                                fitWidth="150.0"
                                fitHeight="150.0"
                                preserveRatio="true"
                                styleClass="image-preview" />
                    </VBox>
                </VBox>
            </GridPane>

            <!-- Save / Cancel Buttons -->
            <HBox spacing="18" alignment="CENTER">
                <Button fx:id="btn_Guardar" text="Guardar" 
                        style="-fx-background-color: #43a047; -fx-text-fill: white; -fx-font-weight: bold;" />
                <Button fx:id="btn_Cancelar" text="Cancelar" 
                        style="-fx-background-color: #e53935; -fx-text-fill: white; -fx-font-weight: bold;" />
            </HBox>
        </VBox>
    </ScrollPane>
</AnchorPane>